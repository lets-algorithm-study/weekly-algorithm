# 집합

## 집합과 상호배타적 집합의 개념
집합은 순서와 중복이 없는 원소들을 갖는 자료구조를 말한다.

## 집합의 종류
유한 집합, 무한 집합, 공집합 등...  
이 책은 상호배타적 집합에 집중 한다.

> 상호배타적 집합이란?  
> 교집합이 없는 집합 관계를 말한다.



### 상호배타적 집합의 특성을 활용하는 분야
상호배타적 집합의 개념은 그래프 알고리즘에서 많이 활용하게 된다.  
(ex: 사이클 확인)

- 이미지 분할: 사람과 배경 분할 등
- 도로 네트워크 구성: 도로 구축할때 각 도로를 서로 교차하지 않도록 설계하는 등 (교차로 혼잡 줄이기)
- 최소 신장 트리 알고리즘 구현: 최소 신장 트리 알고리즘을 구현에서 간선을 추가할 때마다 사이클을 형성하는지 여부를 체크할 때 사용
- 게임 개발: 캐릭터의 동작을 자연스럽게 구현. ex: 플레이어와 적군 충돌시 겹치지 않도록
- 클러스터링 작업: 각 작업이 겹치지 않도록 구성. 작업 간의 의존 관계가 없으면 동시에 여러 작업을 진행 가능


# 집합의 연산

집합은 보통 트리로 표현하며, 대표적인 연산은 합치기와 탐색이 있다.

## 배열을 활용한 트리로 집합 표현하기
집합은 배열을 활용한 트리로 구현한다. 각 집합에는 대표 원소가 있어야 한다.

### 대표원소란?
집합의 원소 중 집합을 대표하는 역할. 여기서는 집합의 형태를 트리로 표현할 것이므로  
대표원소는 루트 노드임.

### 배열로 집합 표현의 의미
하나의 배열로 상호배타적 관계를 가지는 집합을 모두 표현한다는 의미.  
집합을 트리형태로 표현 할 때는
- 배열의 인덱스는 자신을, value는 부모 노드를 의미한다.
- value와 인덱스가 같으면 루트 노드이다.
- 배열 하나에 여러 집합을 표현 할 수도 있다.

### 집합 표현 정리
- 집합의 개수는 루트 노드 개수를 세면 된다. 즉, 인덱스와 value가 같은게 몇개인지 세면 됨.

## 유니온-파인드 알고리즘
합치기 -> 유니온,  
탐색 -> 파인드  
묶어서 유니온-파인드 라고 함.  

### 파인드 연산
루트노드 찾으려면 idx, value 같은걸 찾으면 되는데  
연산을 줄이기 위해 경로 압축을 하면 된다(트리 높이를 줄이면 됨)  
배열에선 루트노드의 value 로 모든 value를 통일 시키면 될듯
경로 압축은 집합을 구성하는 트리를 평평하게(flatten) 만들어서 찾기 연산을 효율적으로 할 수 있게 한다.  

### 유니온 연산
집합 합치기  
즉, 두 집합의 루트 노드를 같게 하는 것이다.  
1. 두 집합에서 찾기 연산을 통해 루트 노드를 찾는다
2. 찾은 두 루트 노드의 값을 비교한다
3. 두 집합을 합친다. 둘 중 아무거나 하나 정해서 루트노드의 부모를 다른 집합의 루트노드로 할당한다
   (둘 중 하나는 다른 집합에 속하게 되는 개념)

### 유니온 연산의 연산 비용 문제, 랭크로 해결하자
트리가 깊어지면 연산 비용이 커진다.  

> 랭크 개념을 도입하는 목적은 트리의 균형을 유지하기 위함.

> 랭크란?  
> 현재 노드를 기준으로 하였을 때 가장 깊은 노드까지의 경로 길이를 말한다.  

### 랭크 기반 합치기 연산
1. 두 노드의 루트 노드 구한다
2. 1에서 구한 루트노드의 랭크를 비교한다  
   2-1. 랭크 값이 다르면 랭크 값 큰 루트노드 기준으로, 부모가 되게 한다.  
   2-2. 랭크 값이 같으면, 아무거나 선택하고, 최종 루트 노드의 랭크에 1을 더한다.







